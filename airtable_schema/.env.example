# ------------------------------------------------------------------------------
# airtable_schema/.env.example
# Copy to .env and fill in values.
# ------------------------------------------------------------------------------
#
# NocoDB connection
NOCODB_URL=http://localhost:8080
NOCODB_BASE_ID=p_your_base_id_here
#Optional: target a specific NocoDB data source (e.g., attached Postgres)
#If unset, tables are created in the base's default data source.
NOCODB_SOURCE_ID=
# When NOCODB_SOURCE_ID is set, scripts will try to create/list tables within that data source.
# If your NocoDB build does NOT support source-scoped meta endpoints, the scripts will fail by default
# to avoid accidentally creating tables in the base default source.
# Set this to true to allow fallback to the base default source.
NOCODB_SOURCE_FALLBACK=
NOCODB_API_TOKEN=your_api_token_here
#
# NocoDB meta API versions (used by create_nocodb_schema_full.js)
NOCODB_API_VERSION=v2
NOCODB_API_VERSION_LINKS=v3
#
# Schema creation toggles (create_nocodb_schema_full.js)
NOCODB_RECREATE_LINKS=true
NOCODB_RECREATE_ROLLUPS=true
NOCODB_RECREATE_LOOKUPS=true
#
# Data import (import_nocodb_data_from_airtable_export.js)
AIRTABLE_EXPORT_DIR=./export
NOCODB_SCHEMA_EXPORT_PATH=../nocodb_schema/export/
NOCODB_BATCH_SIZE=100
NOCODB_HTTP_TIMEOUT_MS=120000
NOCODB_HTTP_RETRIES=3
NOCODB_HTTP_RETRY_BACKOFF_MS=750
# Optional: enable bulk insert for faster imports (default: 0/off)
NOCODB_ENABLE_BULK_IMPORT=0
# Data import enable resume behavior
NOCODB_RESUME=1
NOCODB_CHECKPOINT_FILE=.nocodb_import_checkpoint.json
# Optional: only import some tables (comma-separated)
# TABLES=items,locations,lots
#
# Import safety flags (added during troubleshooting)
NOCODB_FIX_SUM_ROLLUPS=1
NOCODB_RESTORE_ROLLUPS=0
# Post-process (airtable_export_postprocess.js)
# Toggle individual post-processing steps. Defaults are true to preserve legacy behavior.
POSTPROCESS_REWRITE_COMPANY=true
POSTPROCESS_REMOVE_EXTRA_FIELDS=true
#
# Debug logging (1 enables verbose logs in import script)
NOCODB_DEBUG=0
#
# Airtable API (only needed for create_airtable_from_schema.js or any Airtable API tooling)
AIRTABLE_BASE_ID=appXXXXXXXXXXXXXX
AIRTABLE_TOKEN=patXXXXXXXXXXXXXX
#
# Backwards-compatible aliases used in older docs/scripts (optional)
# AIRTABLE_BASE=appXXXXXXXXXXXXXX
# AIRTABLE_KEY=patXXXXXXXXXXXXXX
# NC_URL=http://localhost:8080
# NC_TOKEN=your_api_token_here
#If POSTGRES_SQL_PATH is set:
#create_nocodb_schema_full.js writes Postgres DDL (CREATE TABLE statements) based on _schema.json and exits.
#import_nocodb_data_from_airtable_export.js writes INSERT statements (and optional junction-table inserts for multipleRecordLinks) based on exported table JSON files and exits.
#Otherwise:
#both scripts run using NocoDB schema creation logic  
POSTGRES_OUT_DIR=../nocodb_schema/pgsql/
#POSTGRES_SQL_PATH=../nocodb_schema/pgsql/schema.sql
#POSTGRES_SCHEMA=public
#POSTGRES_INCLUDE_LINK_TABLES=true
#optional: POSTGRES_DATA_FORMAT=csv or insert (SQL)
#POSTGRES_CSV_DIR=../nocodb_schema/pgsql/csv
#POSTGRES_DATA_FORMAT=csv